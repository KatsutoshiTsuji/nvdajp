NVDAJP Release Notes NVDA_VERSION


%!includeconf: ../userGuide.t2tconf

= Table of Contents =[toc]
%%toc

+ Overview +


- last update: 2013-06-13
- updated by: NVDA Japanese Team (nvdajp@nvda.jp Takuya Nishimoto)


Release by NVDA Japanese Team (nvdajp), based on NVDA from NV Access.
This document describes difference between original release of NVDA and the NVDAJP.
NVDA jpdev snapshot is based on NV Access's main branch.

This release contains enhancements for Japanese language users.

NVDA Japanese is provided "as is", without warranty.


++ Install ++

- NVDAJP requires 120MB storage space.
- Launcher package of stable version is available at http://i.nvda.jp
- For other releases from NVDAJP, please visit: http://www.nvda.jp/en/
- Development or beta versions of NVDAJP may not be signed, there are some limitations regarding the privilege.
- Application icon is changed to the goldfish.
- Windows shortcut for starting NVDA is CTRL+ALT+N, if installed. It may conflicts to other screen reader which is popular in Japan. This shortcut can be modified using the property (ALT+Enter) of NVDAJP icon of Windows desktop.
- Fixed issue: NVDA fails to start when temp path contains certain multibyte characters [NVDA ticket #2729 http://community.nvda-project.org/ticket/2729]


+ NVDA with Japanese language +

- CapsLock key of Japanese keyboard array cannot be used as NVDA modifier key, because of the limitation of the Windows device driver.
- eSpeak cannot speak Japanese language.
- Original NVDA cannot output Japanese braille.


+ Japanese input with Windows 8 +

Japanese characters cannot input correctly to text edit of NVDA on Windows 8.
- [NVDAJP ticket 31343 http://sourceforge.jp/ticket/browse.php?group_id=4221&tid=31343]
- [NVDA ticket 3233 http://community.nvda-project.org/ticket/3233]
- [NVDA ticket 2909 http://community.nvda-project.org/ticket/2909]


Work around this:

- Add English layout to Windows 8.
- When text edit of NVDA is selected, press Shift+Alt twice, i.e. switch to English layout then back to Japanese layout.
- Enable Japanese input by pressing half-shape/full-shape key (or Alt+tilde with US-keyboard array). After this, Japanese characters can type correctly.


+ Japanese input methods +

- NVDA 2012.3 can use with Microsoft Japanese IME. NVDAJP 2013.1jp contains the work around the remained issues.
- [NVDAJP ticket 28859 http://sourceforge.jp/ticket/browse.php?group_id=4221&tid=28859]
- [NVDA ticket 2730 http://community.nvda-project.org/ticket/2730]
- NVDAJP 2013.1jp removed legacy Japanese input support by Japanese Team. Stability is improved.
- For Japanese input support, Keyboard Settings "Speak Typed Characters" should be enabled, "Speak Typed Words" should be disabled. Input Composition Setting "Automatically report all available candidates" should be disabled.


+ Enhancements +

++ Japanese keyboard ++

- NonConvert or Convert key of Japanese keyboard can be used as NVDA modifier key. Welcome dialog has additional options.
- Japanese translations added for Input Help Mode: "IME Non convert", "IME Convert", "Pause".
- NVDA key settings are available at Welcome dialog, Language setting, and Keyboard setting.


++ Documentations ++

- Help menu includes 'Japanese Help' submenu, which includes this release note, link to NVDAJP web page, and link to NVDAJP contributers page.
- Help documents are opened by HTML application (HTA) window, not the system's default web browser. This is because Japanese popular voice web browser for screen reader users is difficult to use with NVDA.


++ Spelling reading ++

For spelling reading, NVDAJP uses built-in character dictionary. 'Spelling functionarity setting' is not used.


++ Synthesizer ++

JTalk driver is the default synthesizer of NVDAJP, which supports Japanese language.

- JTalk (Japanese TTS) has M001, Lite, and Mei voices. M001 and Lite are male voices. Mei is female voice. 
- M001 and Mei are at sampling rate of 48kHz. Lite is at sampling rate of 16kHz. 
- Speed, Volume, Pitch, Inflection can be changed.
- Rate boost option is available.
- 'Automatic Language switching' and 'Automatic Dialect switching' are not supported.


JTalk2 experimental driver: 

- 'Automatic Language switching' is supported. language switching among Japanese and other languages, which are supported by eSpeak.
- Speed, Volume, Pitch, Inflection setting is only available for Japanese.
- eSpeak voices are used for languages other than Japanese.


++ Character description mode ++

Character description mode can be changed for caret moves by left arrow or right arrow key and character review commands.
Laptop key is changed since NVDA 2013.1.
Pressing "Report current character in review" (numpad2 or NVDA+period) four-times can enable or disable the description mode.

%kc:beginInclude
|| Name | Desktop key | Laptop key | Touch | Description |
| Move to previous character in review | numpad1 | NVDA+left arrow | flick left (text mode) | Moves the review cursor to the previous character on the current line in the text. If description mode is enabled, the character is described. |
| Report current character in review | numpad2 | NVDA+period | none | Announces the current character on the line of text where the review cursor is positioned. If description mode is enabled, the character is described. Pressing twice reports the character with its attributes. Pressing three times reports the numeric value of the character in decimal and hexadecimal. Pressing four-times toggles the description mode. |
| Move to next character in review | numpad3 | NVDA+right arrow | flick right (text mode) | Move the review cursor to the next character on the current line of text. If description mode is enabled, the character is described. |
%kc:endInclude

++ Language settings ++

Language settings dialog contains settings for Japanese keyboard, character description, and input composition.

+++ Use NonConvert as NVDA key +++

If checked, NonConvert key can be used as NVDA modifier key. Default is on.

+++ Use Convert as NVDA key +++

If checked, Convert key can be used as NVDA modifier key. Default is off.

+++ Beep if IME mode is changed +++

If checked, the press of Half-shape/Full-shape key is announced only with beep.
Default is off.

NVDAJP 2013.1jp reports input composition mode (such as Hiragana Romaji) when they are changed, not when IME is opened or closed.


+++ Phonetic reading for Kana +++

If checked, Hiragana and Katakana characters are reported using phonetic reading for character review (when description mode is enabled).
Default is off.

+++ Phonetic reading for Latin +++

If checked, Latin characters are reported using phonetic reading for character review (when description mode is enabled).
Default is off.

+++ Say Japanese Katakana +++

If checked, Katakana characters are reported followed by 'Katakana' for character review.
Default is off.

For candidates of Japanese input methods, 'Katakana' or 'Hiragana' is always reported.

+++ Katakana pitch change percentage +++

The amount that the pitch of the voice will change when speaking a Katakana letter for character review.
Default is -20.

For candidates of Japanese input methods, pitch change is not available.

+++ Say half-shape +++

If checked, half shape characters are reported followed by 'half-shape' for character review.
Default is off.

For candidates of Japanese input methods, 'half-shape' is always reported.

+++ Half-shape pitch change percentage +++

The amount that the pitch of the voice will change when speaking a half-shape letter for character review.
Default is 20.

For candidates of Japanese input methods, pitch change is not available.

+++ Announce candidate number +++

The default of 'Announce candidate number' is disabled.
If checked, items in candidate window of Japanese input methods such as Micosoft IME are annonced with numbers.
If 'IME support of nvdajp' is disabled, this option has no effect.


+++ Use IME support of nvdajp +++

The default of 'Use IME support of nvdajp' is enabled.

To disable, turn off the option.


+++ Skype Windows 8 Hack +++

Enables work around issue 2712 (freeze of Skype 6 on Windows 8)

- http://community.nvda-project.org/ticket/2712
- http://sourceforge.jp/ticket/browse.php?group_id=4221&tid=30703


++ Character dictionary ++

NVDAJP can modify character descriptions and spelling readings by users. A dictionary file can be created in the user config directory.

User config directory (Windows XP):
```
C:\Documents and Settings\(User Name)\Application Data\nvda
```
(Windows Vista, 7, 8):
```
C:\Users\(User Name)\AppData\Roaming\nvda
```

The dictionary file name should be characters-ja.dic. ('ja' is the locale identifier.)

The file should be plain text with UTF-8 encoding. The lines should be tab-separated values.

```
field 1: character
field 2: Unicode hexadicimal character code
field 3: spelling reading quoted with [ and ]
field 4 (or later): field 2 or later items of charactersDescriptions.dic
```

If the line starts with '#', it is ignored. If the line starts with '\#', the character is '#' itself.

Details (in Japanese) [NVDAJP ticket 29872 http://sourceforge.jp/ticket/browse.php?group_id=4221&tid=29872]

For obsolated enhancement, see [NVDAJP ticket 26926 http://sourceforge.jp/ticket/browse.php?group_id=4221&tid=26926]


++ Braille display ++

Japanese braille support is updated for NVDAJP 2013.1jp.


+++ Japanese braille table +++

"Japanese 6 dot computer braille" output table is added and changed to the default. It is 'pseudo' table and it does not use LibLouis. It does not support input. 

Cursor position mapping is implemented for Japanese output table.


+++ KGS Braille Memo series +++

The driver for braille display "KGS BrailleMemo series" from [KGS Corporation http://www.kgs-jpn.co.jp/eindex.html] is added. BM46 is used for development and tests. BM32 is tested by the community members.

Both automatic and manual port setting can be used. It also works with Bluetooth.

[The BM Utility (Japanese page) http://www.kgs-jpn.co.jp/bmutil_j/] must be installed to the computer.

For USB connection, [virtual serial driver (Japanese page) http://www.kgs-jpn.co.jp/USB_driver_j/index.htm] must also be installed.
The device should be configured to use 9600BPS connection speed for virtual serial driver.

KGS Braille Memo driver supports following commands:

Basic operations (1):

|| Name | Key | BM46 |
| up | up | up |
| down | down | down |
| left | left | left |
| right | right | right |
| Shift + up | select+up | f2+up |
| Shift + down | select+down | f2+down |
| Shift + left | select+left | f2+left |
| Shift + right | select+right | f2+right |
| review previous line | bw | f3+up |
| review next line | fw | f3+down |
| review previous word | ls | f3+left |
| review next word | rs | f3+right |
| move to cell | tether | tether |
| display previous | f1 | f1 |
| display forward | f4 | f4 |
| Enter  | enter | left thumb |
| Space  | space | right thumb |
| Control  | ctrl | left little finger 1 |
| Alt  | alt | left little finger 2 |
| Shift  | select | right little finger 1 |
| Windows  | read | right little finger 2 |

Basic operations (2):

|| Name | Key | BM46(left hand mode) | BM46(right hand mode) |
| NVDA menu | ins | f1+up | f4+up |
| Backspace | bs | f1+left | f4+left |
| Delete | del | f1+right | f4+right |
| Enter | ok | f4+up | f1+up |
| Enter | set | f4+down | f1+down | 
| Tab | inf | f4+left | f1+left |
| Esc | esc | f4+right | f1+right |
| Alt+Tab | alt+inf | f4+left little finger 2+left | f1+left little finger 2+left |
| Shift+Tab  | select+inf | f4+right little finger 1+left | f1+right little finger 1+left |


Latin characters:

|| Name | Key |
| a | 1 |
| b | 12 |
| c | 14 |
| d | 145 |
| e | 15 |
| f | 124 |
| g | 1245 |
| h | 125 |
| i | 24 |
| j | 245 |
| k | 13 |
| l | 123 |
| m | 134 |
| n | 1345 |
| o | 135 |
| p | 1234 |
| q | 12345 |
| r | 1235 |
| s | 234 |
| t | 2345 |
| u | 136 |
| v | 1236 |
| w | 2456 |
| x | 1346 |
| y | 13456 |
| z | 1356 |

Latin characters with control key:

|| Name | Key | BM46 |
| Control+a | ctrl+1 | left little finger 1+1 |
| Control+b | ctrl+12 | left little finger 1+12 |
| Control+c | ctrl+14 | left little finger 1+14 |
| Control+d | ctrl+145 | left little finger 1+145 |
| Control+e | ctrl+15 | left little finger 1+15 |
| Control+f | ctrl+124 | left little finger 1+124 |
| Control+g | ctrl+1245 | left little finger 1+1245 |
| Control+h | ctrl+125 | left little finger 1+125 |
| Control+i | ctrl+24 | left little finger 1+24 |
| Control+j | ctrl+245 | left little finger 1+245 |
| Control+k | ctrl+13 | left little finger 1+13 |
| Control+l | ctrl+123 | left little finger 1+123 |
| Control+m | ctrl+134 | left little finger 1+134 |
| Control+n | ctrl+1345 | left little finger 1+1345 |
| Control+o | ctrl+135 | left little finger 1+135 |
| Control+p | ctrl+1234 | left little finger 1+1234 |
| Control+q | ctrl+12345 | left little finger 1+12345 |
| Control+r | ctrl+1235 | left little finger 1+1235 |
| Control+s | ctrl+234 | left little finger 1+234 |
| Control+t | ctrl+2345 | left little finger 1+2345 |
| Control+u | ctrl+136 | left little finger 1+136 |
| Control+v | ctrl+1236 | left little finger 1+1236 |
| Control+w | ctrl+2456 | left little finger 1+2456 |
| Control+x | ctrl+1346 | left little finger 1+1346 |
| Control+y | ctrl+13456 | left little finger 1+13456 |
| Control+z | ctrl+1356 | left little finger 1+1356 |

Latin characters with Alt key:

|| Name | Key | BM46 |
| Alt+a | alt+1 | left little finger 2+1 |
| Alt+b | alt+12 | left little finger 2+12 |
| Alt+c | alt+14 | left little finger 2+41 |
| Alt+d | alt+145 | left little finger 2+145 |
| Alt+e | alt+15 | left little finger 2+15 |
| Alt+f | alt+124 | left little finger 2+124 |
| Alt+g | alt+1245 | left little finger 2+1245 |
| Alt+h | alt+125 | left little finger 2+125 |
| Alt+i | alt+24 | left little finger 2+24 |
| Alt+j | alt+245 | left little finger 2+245 |
| Alt+k | alt+13 | left little finger 2+13 |
| Alt+l | alt+123 | left little finger 2+123 |
| Alt+m | alt+134 | left little finger 2+134 |
| Alt+n | alt+1345 | left little finger 2+1345 |
| Alt+o | alt+135 | left little finger 2+135 |
| Alt+p | alt+1234 | left little finger 2+1234 |
| Alt+q | alt+12345 | left little finger 2+12345 |
| Alt+r | alt+1235 | left little finger 2+1235 |
| Alt+s | alt+234 | left little finger 2+234 |
| Alt+t | alt+2345 | left little finger 2+2345 |
| Alt+u | alt+136 | left little finger 2+136 |
| Alt+v | alt+1236 | left little finger 2+1236 |
| Alt+w | alt+2456 | left little finger 2+2456 |
| Alt+x | alt+1346 | left little finger 2+1346 |
| Alt+y | alt+13456 | left little finger 2+13456 |
| Alt+z | alt+1356 | left little finger 2+1356 |

Symbols:

|| Name | Key |
| . (period) | 256 |
| : (colon) | 25 |
| ; (semicolon) | 23 |
| , (comma) | 2 |
| - (minus) | 36 |
| ? (question) | 236 |
| ! (exclamation) | 235 |
| ' (apostrophe) | 3 |

Select button works as Shift, rather than Enter, since 2013.1jp.


+++ KGS BrailleNote 46C/46D +++

The driver for braille display "KGS BrailleNote 46C/46D" from [KGS Corporation http://www.kgs-jpn.co.jp/eindex.html] is added.

[The BM Utility (Japanese page) http://www.kgs-jpn.co.jp/bmutil_j/] must be installed to the computer.

For USB connection, [virtual serial driver (Japanese page) http://www.kgs-jpn.co.jp/USB_driver_j/index.htm] must also be installed.
The device should be configured to use 9600BPS connection speed for virtual serial driver.

BrailleNote 46C/46D driver supports following commands:

|| Name | Key |
| NVDA menu | f1 |
| move to cell | tether |
| scroll back | sl |
| scroll forward | sr |
| review previous line | f2+bk |
| review next line | f2+lf |
| review previous word | f2+sl |
| review next word | f2+sr |
| up arrow | bk |
| down arrow | lf |
| left arrow | f3 |
| right arrow | f4 |


+++ Braille Viewer +++

"Braille Viewer" is added in Tools menu. Available for Japanese language.

It translates spoken words to Japanese braille pattens, so it is not exactly same as the output to braille devices.

It uses braille Unicode font. For Windows XP, the braille font is available if LibreOffice or OpenOffice.org is installed.


++ Default settings ++

- "Beep for capitals" is enabled.
- Update check is disabled. Default setting of update-autoCheck is changed to false.


++ Microsoft Word support ++

- Paragraph indent of Microsoft Word is announced when using NVDA+F.
- Both "Report alignment" and "Report font size" in "Document Format" setting should be enabled to use this.
- "Announce formatting changes after the cursor" is also supported.
- Announce of font size is in real numbers such as '10.5pt', rather than integers such as '10pt'.


++ Miscellaneous changes ++

- AppModule for WinAltair (popular self-voicing applications in Japan) is added.
- Since 2013.1jp, automatic sleep modules for Search Aid and VoicePopper are removed (nvdajp ticket 25653)
- Log Viewer may contain multi-byte characters for output.
- Report Time (NVDA+f12) is modified for Japanese environment.
- Memory allocation issue in ime.cpp [(NVDA ticket 3234) http://community.nvda-project.org/ticket/3234] is fixed.


++ Source code ++

We use launchpad.net as bazaar source-code repository.

- sourceforge.jp: http://en.sourceforge.jp/projects/nvdajp/
- GitHub: https://github.com/nvdajp
- Bitbucket: https://bitbucket.org/nvdajp
